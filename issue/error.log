2019-11-26T15:58:24.591Z	DEBUG	[kubernetes]	kubernetes/kubernetes.go:280	Generated hints {}
2019-11-26T15:58:24.591Z	DEBUG	[kubernetes]	kubernetes/kubernetes.go:285	Generated builder event map[container:{"id":"391d8616e730070e1621e78d86fed9c3f250dc34610fa4b6b1d3584b74bada90","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:54750214851b4600eaf616440f41b27054277f0b513f09a5452d68f7d211be9b","name":"prom-label-proxy","runtime":"cri-o"} host:10.131.0.178 kubernetes:{"annotations":{"k8s":{"v1":{"cni":{"cncf":{"io/networks-status":"[{\n    \"name\": \"openshift-sdn\",\n    \"interface\": \"eth0\",\n    \"ips\": [\n        \"10.131.0.178\"\n    ],\n    \"default\": true,\n    \"dns\": {}\n}]"}}}},"openshift":{"io/scc":"restricted"}},"container":{"id":"391d8616e730070e1621e78d86fed9c3f250dc34610fa4b6b1d3584b74bada90","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:54750214851b4600eaf616440f41b27054277f0b513f09a5452d68f7d211be9b","name":"prom-label-proxy","runtime":"cri-o"},"labels":{"app":"prometheus","controller-revision-hash":"prometheus-k8s-b5769df5f","prometheus":"k8s","statefulset_kubernetes_io/pod-name":"prometheus-k8s-0"},"namespace":"openshift-monitoring","node":{"name":"ip-10-0-155-107.ap-southeast-2.compute.internal"},"pod":{"name":"prometheus-k8s-0","uid":"86e2a9b1-0b30-11ea-b121-023f14a84706"},"statefulset":{"name":"prometheus-k8s"}}]
2019-11-26T15:58:24.592Z	DEBUG	[hints.builder]	hints/logs.go:82	default config is disabled: map[container:{"id":"391d8616e730070e1621e78d86fed9c3f250dc34610fa4b6b1d3584b74bada90","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:54750214851b4600eaf616440f41b27054277f0b513f09a5452d68f7d211be9b","name":"prom-label-proxy","runtime":"cri-o"} host:10.131.0.178 kubernetes:{"annotations":{"k8s":{"v1":{"cni":{"cncf":{"io/networks-status":"[{\n    \"name\": \"openshift-sdn\",\n    \"interface\": \"eth0\",\n    \"ips\": [\n        \"10.131.0.178\"\n    ],\n    \"default\": true,\n    \"dns\": {}\n}]"}}}},"openshift":{"io/scc":"restricted"}},"container":{"id":"391d8616e730070e1621e78d86fed9c3f250dc34610fa4b6b1d3584b74bada90","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:54750214851b4600eaf616440f41b27054277f0b513f09a5452d68f7d211be9b","name":"prom-label-proxy","runtime":"cri-o"},"labels":{"app":"prometheus","controller-revision-hash":"prometheus-k8s-b5769df5f","prometheus":"k8s","statefulset_kubernetes_io/pod-name":"prometheus-k8s-0"},"namespace":"openshift-monitoring","node":{"name":"ip-10-0-155-107.ap-southeast-2.compute.internal"},"pod":{"name":"prometheus-k8s-0","uid":"86e2a9b1-0b30-11ea-b121-023f14a84706"},"statefulset":{"name":"prometheus-k8s"}}]
2019-11-26T15:58:24.592Z	DEBUG	[bus]	bus/bus.go:83	filebeat: map[config:[] host:10.131.0.178 id:86e2a9b1-0b30-11ea-b121-023f14a84706.prom-label-proxy kubernetes:{"annotations":{"k8s":{"v1":{"cni":{"cncf":{"io/networks-status":"[{\n    \"name\": \"openshift-sdn\",\n    \"interface\": \"eth0\",\n    \"ips\": [\n        \"10.131.0.178\"\n    ],\n    \"default\": true,\n    \"dns\": {}\n}]"}}}},"openshift":{"io/scc":"restricted"}},"container":{"id":"391d8616e730070e1621e78d86fed9c3f250dc34610fa4b6b1d3584b74bada90","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:54750214851b4600eaf616440f41b27054277f0b513f09a5452d68f7d211be9b","name":"prom-label-proxy","runtime":"cri-o"},"labels":{"app":"prometheus","controller-revision-hash":"prometheus-k8s-b5769df5f","prometheus":"k8s","statefulset_kubernetes_io/pod-name":"prometheus-k8s-0"},"namespace":"openshift-monitoring","node":{"name":"ip-10-0-155-107.ap-southeast-2.compute.internal"},"pod":{"name":"prometheus-k8s-0","uid":"86e2a9b1-0b30-11ea-b121-023f14a84706"},"statefulset":{"name":"prometheus-k8s"}} meta:{"kubernetes":{"container":{"image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:54750214851b4600eaf616440f41b27054277f0b513f09a5452d68f7d211be9b","name":"prom-label-proxy"},"labels":{"app":"prometheus","controller-revision-hash":"prometheus-k8s-b5769df5f","prometheus":"k8s","statefulset_kubernetes_io/pod-name":"prometheus-k8s-0"},"namespace":"openshift-monitoring","node":{"name":"ip-10-0-155-107.ap-southeast-2.compute.internal"},"pod":{"name":"prometheus-k8s-0","uid":"86e2a9b1-0b30-11ea-b121-023f14a84706"},"statefulset":{"name":"prometheus-k8s"}}} provider:73c207d7-c196-4ea5-9895-711c28aa3cce start:true]
2019-11-26T15:58:24.592Z	DEBUG	[kubernetes]	kubernetes/kubernetes.go:113	Watcher Pod add: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:registry-migration-test-2-trial-5-7vdl8-1-deploy,GenerateName:,Namespace:openshift-migration,SelfLink:/api/v1/namespaces/openshift-migration/pods/registry-migration-test-2-trial-5-7vdl8-1-deploy,UID:788c06dc-104f-11ea-aa97-0a7cb369ea46,ResourceVersion:1063034,Generation:0,CreationTimestamp:2019-11-26 13:20:09 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{openshift.io/deployer-pod-for.name: registry-migration-test-2-trial-5-7vdl8-1,},Annotations:map[string]string{k8s.v1.cni.cncf.io/networks-status: ,openshift.io/deployment-config.name: registry-migration-test-2-trial-5-7vdl8,openshift.io/deployment.name: registry-migration-test-2-trial-5-7vdl8-1,openshift.io/scc: restricted,},OwnerReferences:[{v1 ReplicationController registry-migration-test-2-trial-5-7vdl8-1 787befbe-104f-11ea-aa97-0a7cb369ea46 <nil> <nil>}],Finalizers:[],ClusterName:,ManagedFields:[],},Spec:PodSpec{Volumes:[{deployer-token-dtsdw {nil nil nil nil nil SecretVolumeSource{SecretName:deployer-token-dtsdw,Items:[],DefaultMode:*420,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}}],Containers:[{deployment quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:82938332ae2b152615e88a46213940c23a3c30b01d3ede88cf6763a1a86a8c77 [] []  [] [] [{OPENSHIFT_DEPLOYMENT_NAME registry-migration-test-2-trial-5-7vdl8-1 nil} {OPENSHIFT_DEPLOYMENT_NAMESPACE openshift-migration nil}] {map[] map[]} [{deployer-token-dtsdw true /var/run/secrets/kubernetes.io/serviceaccount  <nil> }] [] nil nil nil /dev/termination-log File IfNotPresent SecurityContext{Capabilities:&Capabilities{Add:[],Drop:[KILL MKNOD SETGID SETUID],},Privileged:nil,SELinuxOptions:nil,RunAsUser:*1000510000,RunAsNonRoot:nil,ReadOnlyRootFilesystem:nil,AllowPrivilegeEscalation:nil,RunAsGroup:nil,ProcMount:nil,WindowsOptions:nil,} false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*10,ActiveDeadlineSeconds:*21600,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:deployer,DeprecatedServiceAccount:deployer,NodeName:ip-10-0-155-107.ap-southeast-2.compute.internal,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:&SELinuxOptions{User:,Role:,Type:,Level:s0:c23,c2,},RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:*1000510000,RunAsGroup:nil,Sysctls:[],WindowsOptions:nil,},ImagePullSecrets:[{deployer-dockercfg-9bgk9}],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc0006c8b90} {node.kubernetes.io/unreachable Exists  NoExecute 0xc0006c8bb0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:*false,ReadinessGates:[],RuntimeClassName:nil,EnableServiceLinks:*true,PreemptionPolicy:nil,Overhead:ResourceList{},TopologySpreadConstraints:[],EphemeralContainers:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2019-11-26 13:20:09 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2019-11-26 13:20:44 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2019-11-26 13:20:44 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2019-11-26 13:20:09 +0000 UTC  }],Message:,Reason:,HostIP:10.0.155.107,PodIP:10.131.0.164,StartTime:2019-11-26 13:20:09 +0000 UTC,ContainerStatuses:[{deployment {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2019-11-26 13:20:19 +0000 UTC,FinishedAt:2019-11-26 13:20:43 +0000 UTC,ContainerID:cri-o://6849191d81420b0be14d77f78e46a558fd7ee9d9d409477d03772d019951e0e6,}} {nil nil nil} false 0 quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:82938332ae2b152615e88a46213940c23a3c30b01d3ede88cf6763a1a86a8c77 quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:82938332ae2b152615e88a46213940c23a3c30b01d3ede88cf6763a1a86a8c77 cri-o://6849191d81420b0be14d77f78e46a558fd7ee9d9d409477d03772d019951e0e6}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,PodIPs:[],EphemeralContainerStatuses:[],},}
E1126 15:58:24.592444       1 runtime.go:73] Observed a panic: "invalid memory address or nil pointer dereference" (runtime error: invalid memory address or nil pointer dereference)
goroutine 97 [running]:
github.com/elastic/beats/vendor/k8s.io/apimachinery/pkg/util/runtime.logPanic(0x2c827a0, 0x4b89700)
	/go/src/github.com/elastic/beats/vendor/k8s.io/apimachinery/pkg/util/runtime/runtime.go:69 +0x7b
github.com/elastic/beats/vendor/k8s.io/apimachinery/pkg/util/runtime.HandleCrash(0x0, 0x0, 0x0)
	/go/src/github.com/elastic/beats/vendor/k8s.io/apimachinery/pkg/util/runtime/runtime.go:51 +0x82
panic(0x2c827a0, 0x4b89700)
	/usr/local/go/src/runtime/panic.go:522 +0x1b5
github.com/elastic/beats/libbeat/common/kubernetes.(*MetaGeneratorConfig).ResourceMetadata(0xc00029b860, 0x339f980, 0xc0006e7260, 0x8)
	/go/src/github.com/elastic/beats/libbeat/common/kubernetes/metadata.go:113 +0x485
github.com/elastic/beats/libbeat/common/kubernetes.(*MetaGeneratorConfig).PodMetadata(0xc00029b860, 0xc0006e7260, 0xc000027440)
	/go/src/github.com/elastic/beats/libbeat/common/kubernetes/metadata.go:138 +0x45
github.com/elastic/beats/libbeat/common/kubernetes.(*MetaGeneratorConfig).ContainerMetadata(0xc00029b860, 0xc0006e7260, 0xc0006c8a30, 0xa, 0xc00078dd80, 0x76, 0x2f)
	/go/src/github.com/elastic/beats/libbeat/common/kubernetes/metadata.go:149 +0x39
github.com/elastic/beats/libbeat/autodiscover/providers/kubernetes.(*Provider).emitEvents(0xc00025b4a0, 0xc0006e7260, 0x2f93ff1, 0x5, 0xc000191540, 0x1, 0x1, 0xc0006c4400, 0x1, 0x1)
	/go/src/github.com/elastic/beats/libbeat/autodiscover/providers/kubernetes/kubernetes.go:187 +0x7f4
github.com/elastic/beats/libbeat/autodiscover/providers/kubernetes.(*Provider).emit(0xc00025b4a0, 0xc0006e7260, 0x2f93ff1, 0x5)
	/go/src/github.com/elastic/beats/libbeat/autodiscover/providers/kubernetes/kubernetes.go:139 +0x95
github.com/elastic/beats/libbeat/autodiscover/providers/kubernetes.AutodiscoverBuilder.func1(0x2f78740, 0xc0006e7260)
	/go/src/github.com/elastic/beats/libbeat/autodiscover/providers/kubernetes/kubernetes.go:114 +0xe4
github.com/elastic/beats/libbeat/common/kubernetes.ResourceEventHandlerFuncs.OnAdd(...)
	/go/src/github.com/elastic/beats/libbeat/common/kubernetes/eventhandler.go:54
github.com/elastic/beats/libbeat/common/kubernetes.(*watcher).process.func1(0xc00050c460, 0x2b121c0, 0xc0007b07a0, 0x0, 0x0)
	/go/src/github.com/elastic/beats/libbeat/common/kubernetes/watcher.go:284 +0x1e0
github.com/elastic/beats/libbeat/common/kubernetes.(*watcher).process(0xc00050c460, 0x33d8140, 0xc00062af80, 0x1)
	/go/src/github.com/elastic/beats/libbeat/common/kubernetes/watcher.go:292 +0x4d
github.com/elastic/beats/libbeat/common/kubernetes.(*watcher).Start.func1()
	/go/src/github.com/elastic/beats/libbeat/common/kubernetes/watcher.go:247 +0x48
github.com/elastic/beats/vendor/k8s.io/apimachinery/pkg/util/wait.JitterUntil.func1(0xc0006c7000)
	/go/src/github.com/elastic/beats/vendor/k8s.io/apimachinery/pkg/util/wait/wait.go:152 +0x54
github.com/elastic/beats/vendor/k8s.io/apimachinery/pkg/util/wait.JitterUntil(0xc0006c7000, 0x3b9aca00, 0x0, 0xc0008c2701, 0xc0000a17a0)
	/go/src/github.com/elastic/beats/vendor/k8s.io/apimachinery/pkg/util/wait/wait.go:153 +0xf8
github.com/elastic/beats/vendor/k8s.io/apimachinery/pkg/util/wait.Until(0xc0006c7000, 0x3b9aca00, 0xc0000a17a0)
	/go/src/github.com/elastic/beats/vendor/k8s.io/apimachinery/pkg/util/wait/wait.go:88 +0x4d
created by github.com/elastic/beats/libbeat/common/kubernetes.(*watcher).Start
	/go/src/github.com/elastic/beats/libbeat/common/kubernetes/watcher.go:246 +0x1ef
2019-11-26T15:58:24.593Z	DEBUG	[autodiscover]	autodiscover/autodiscover.go:166	Got a start event: map[config:[] host:10.131.0.178 id:86e2a9b1-0b30-11ea-b121-023f14a84706.prometheus-proxy kubernetes:{"annotations":{"k8s":{"v1":{"cni":{"cncf":{"io/networks-status":"[{\n    \"name\": \"openshift-sdn\",\n    \"interface\": \"eth0\",\n    \"ips\": [\n        \"10.131.0.178\"\n    ],\n    \"default\": true,\n    \"dns\": {}\n}]"}}}},"openshift":{"io/scc":"restricted"}},"container":{"id":"56e135723a6d6a51d6c70ed499205a4ef3020b4657682f6ee53543a3bb64c964","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:6d952943885b8c9d972db55153206cb8ef5ee8e1d3aa4f76dec0cc616b31b4cc","name":"prometheus-proxy","runtime":"cri-o"},"labels":{"app":"prometheus","controller-revision-hash":"prometheus-k8s-b5769df5f","prometheus":"k8s","statefulset_kubernetes_io/pod-name":"prometheus-k8s-0"},"namespace":"openshift-monitoring","node":{"name":"ip-10-0-155-107.ap-southeast-2.compute.internal"},"pod":{"name":"prometheus-k8s-0","uid":"86e2a9b1-0b30-11ea-b121-023f14a84706"},"statefulset":{"name":"prometheus-k8s"}} meta:{"kubernetes":{"container":{"image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:6d952943885b8c9d972db55153206cb8ef5ee8e1d3aa4f76dec0cc616b31b4cc","name":"prometheus-proxy"},"labels":{"app":"prometheus","controller-revision-hash":"prometheus-k8s-b5769df5f","prometheus":"k8s","statefulset_kubernetes_io/pod-name":"prometheus-k8s-0"},"namespace":"openshift-monitoring","node":{"name":"ip-10-0-155-107.ap-southeast-2.compute.internal"},"pod":{"name":"prometheus-k8s-0","uid":"86e2a9b1-0b30-11ea-b121-023f14a84706"},"statefulset":{"name":"prometheus-k8s"}}} port:9091 provider:73c207d7-c196-4ea5-9895-711c28aa3cce start:true]
panic: runtime error: invalid memory address or nil pointer dereference [recovered]
	panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x21ba515]

goroutine 97 [running]:
github.com/elastic/beats/vendor/k8s.io/apimachinery/pkg/util/runtime.HandleCrash(0x0, 0x0, 0x0)
	/go/src/github.com/elastic/beats/vendor/k8s.io/apimachinery/pkg/util/runtime/runtime.go:58 +0x105
panic(0x2c827a0, 0x4b89700)
	/usr/local/go/src/runtime/panic.go:522 +0x1b5
github.com/elastic/beats/libbeat/common/kubernetes.(*MetaGeneratorConfig).ResourceMetadata(0xc00029b860, 0x339f980, 0xc0006e7260, 0x8)
	/go/src/github.com/elastic/beats/libbeat/common/kubernetes/metadata.go:113 +0x485
github.com/elastic/beats/libbeat/common/kubernetes.(*MetaGeneratorConfig).PodMetadata(0xc00029b860, 0xc0006e7260, 0xc000027440)
	/go/src/github.com/elastic/beats/libbeat/common/kubernetes/metadata.go:138 +0x45
github.com/elastic/beats/libbeat/common/kubernetes.(*MetaGeneratorConfig).ContainerMetadata(0xc00029b860, 0xc0006e7260, 0xc0006c8a30, 0xa, 0xc00078dd80, 0x76, 0x2f)
	/go/src/github.com/elastic/beats/libbeat/common/kubernetes/metadata.go:149 +0x39
github.com/elastic/beats/libbeat/autodiscover/providers/kubernetes.(*Provider).emitEvents(0xc00025b4a0, 0xc0006e7260, 0x2f93ff1, 0x5, 0xc000191540, 0x1, 0x1, 0xc0006c4400, 0x1, 0x1)
	/go/src/github.com/elastic/beats/libbeat/autodiscover/providers/kubernetes/kubernetes.go:187 +0x7f4
github.com/elastic/beats/libbeat/autodiscover/providers/kubernetes.(*Provider).emit(0xc00025b4a0, 0xc0006e7260, 0x2f93ff1, 0x5)
	/go/src/github.com/elastic/beats/libbeat/autodiscover/providers/kubernetes/kubernetes.go:139 +0x95
github.com/elastic/beats/libbeat/autodiscover/providers/kubernetes.AutodiscoverBuilder.func1(0x2f78740, 0xc0006e7260)
	/go/src/github.com/elastic/beats/libbeat/autodiscover/providers/kubernetes/kubernetes.go:114 +0xe4
github.com/elastic/beats/libbeat/common/kubernetes.ResourceEventHandlerFuncs.OnAdd(...)
	/go/src/github.com/elastic/beats/libbeat/common/kubernetes/eventhandler.go:54
github.com/elastic/beats/libbeat/common/kubernetes.(*watcher).process.func1(0xc00050c460, 0x2b121c0, 0xc0007b07a0, 0x0, 0x0)
	/go/src/github.com/elastic/beats/libbeat/common/kubernetes/watcher.go:284 +0x1e0
github.com/elastic/beats/libbeat/common/kubernetes.(*watcher).process(0xc00050c460, 0x33d8140, 0xc00062af80, 0x1)
	/go/src/github.com/elastic/beats/libbeat/common/kubernetes/watcher.go:292 +0x4d
github.com/elastic/beats/libbeat/common/kubernetes.(*watcher).Start.func1()
	/go/src/github.com/elastic/beats/libbeat/common/kubernetes/watcher.go:247 +0x48
github.com/elastic/beats/vendor/k8s.io/apimachinery/pkg/util/wait.JitterUntil.func1(0xc0006c7000)
	/go/src/github.com/elastic/beats/vendor/k8s.io/apimachinery/pkg/util/wait/wait.go:152 +0x54
github.com/elastic/beats/vendor/k8s.io/apimachinery/pkg/util/wait.JitterUntil(0xc0006c7000, 0x3b9aca00, 0x0, 0xc0008c2701, 0xc0000a17a0)
	/go/src/github.com/elastic/beats/vendor/k8s.io/apimachinery/pkg/util/wait/wait.go:153 +0xf8
github.com/elastic/beats/vendor/k8s.io/apimachinery/pkg/util/wait.Until(0xc0006c7000, 0x3b9aca00, 0xc0000a17a0)
	/go/src/github.com/elastic/beats/vendor/k8s.io/apimachinery/pkg/util/wait/wait.go:88 +0x4d
created by github.com/elastic/beats/libbeat/common/kubernetes.(*watcher).Start
	/go/src/github.com/elastic/beats/libbeat/common/kubernetes/watcher.go:246 +0x1ef